<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QUIZ: FUNDAMENTOS DE QU√çMICA</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        /* --- EST√âTICA "LABORATORIO MODERNO" --- */
        :root {
            --bg-color: #f4f7f6; /* Gris muy p√°lido, casi blanco */
            --card-bg: #ffffff;
            --primary-blue: #0056b3; /* Azul Acad√©mico */
            --accent-cyan: #17a2b8; /* Cian para detalles */
            --text-main: #2c3e50;
            --text-light: #7f8c8d;
            --success: #28a745; /* Verde Matraz */
            --error: #dc3545; /* Rojo Alerta */
            --shadow: 0 4px 15px rgba(0,0,0,0.05);
        }

        body {
            background-color: var(--bg-color);
            /* Patr√≥n de fondo sutil (puntos) */
            background-image: radial-gradient(#bdc3c7 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-main);
            font-family: 'Roboto', sans-serif;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* Cabecera estilo "Paper Acad√©mico" */
        .lab-header {
            width: 100%;
            background: var(--primary-blue);
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,86,179,0.3);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        /* Decoraci√≥n molecular en header */
        .lab-header::before {
            content: "‚¨° ‚¨¢ ‚¨°";
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2rem;
            opacity: 0.3;
            letter-spacing: 5px;
        }

        .lab-title {
            margin: 0;
            font-weight: 700;
            font-size: 1.5rem;
            letter-spacing: 1px;
        }

        .lab-subtitle {
            font-weight: 300;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Contenedor principal */
        .quiz-container {
            width: 90%;
            max-width: 700px;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 30px;
            position: relative;
            border-top: 5px solid var(--accent-cyan);
        }

        /* Barra de progreso */
        .progress-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            color: var(--text-light);
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        /* Pregunta */
        .question-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: var(--text-main);
            font-weight: 500;
        }

        /* Botones de opci√≥n */
        .options-grid {
            display: grid;
            gap: 12px;
        }

        .btn-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            color: var(--text-main);
            padding: 15px 20px;
            font-family: 'Roboto', sans-serif;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            position: relative;
            display: flex;
            align-items: center;
        }

        /* Efecto hover limpio */
        .btn-option:hover:not(:disabled) {
            border-color: var(--accent-cyan);
            background: #eef9fb;
            transform: translateX(5px);
        }

        .btn-option:disabled {
            cursor: default;
            opacity: 0.7;
        }

        /* Feedback y colores de estado */
        .feedback-panel {
            margin-top: 25px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
            display: none; 
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .success { 
            background-color: #d4edda; 
            color: #155724; 
            border: 1px solid #c3e6cb;
        }
        
        .error { 
            background-color: #f8d7da; 
            color: #721c24; 
            border: 1px solid #f5c6cb;
        }

        /* Bot√≥n Siguiente */
        .btn-next {
            background: var(--primary-blue);
            color: white;
            border: none;
            width: 100%;
            padding: 16px;
            font-weight: 700;
            font-size: 1rem;
            border-radius: 8px;
            margin-top: 20px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background 0.3s;
        }

        .btn-next:hover {
            background: #004494;
        }

        /* Indicador visual de letras (A, B, C) */
        .opt-letter {
            font-weight: bold;
            margin-right: 10px;
            color: var(--primary-blue);
            background: #e9ecef;
            width: 25px; height: 25px;
            display: flex; 
            align-items: center; 
            justify-content: center;
            border-radius: 50%;
            font-size: 0.8rem;
        }

    </style>
</head>
<body>

    <header class="lab-header">
        <h1 class="lab-title">LABORATORIO DE QU√çMICA</h1>
        <span class="lab-subtitle">Evaluaci√≥n de Conceptos Fundamentales</span>
    </header>

    <div class="quiz-container" id="quiz-panel">
        <div class="progress-container">
            <span id="progress-text">Pregunta 1 de 6</span>
            <span id="score-text" style="color:var(--primary-blue)">Aciertos: 0</span>
        </div>

        <div class="question-text" id="question-display">
            Cargando reactivos...
        </div>

        <div class="options-grid" id="options-container">
            </div>

        <div class="feedback-panel" id="feedback-display"></div>
        <button class="btn-next" id="next-btn" onclick="nextQuestion()">Siguiente Pregunta ‚ûú</button>
    </div>

<script>
    // --- BASE DE DATOS QU√çMICA ---
    
    const quizData = [
        {
            q: "Seg√∫n la analog√≠a de 'Hardware vs. Software', ¬øcu√°l es la diferencia principal entre lo que estudia la F√≠sica y lo que estudia la Qu√≠mica?",
            options: [
                { txt: "La F√≠sica estudia la materia y la Qu√≠mica la energ√≠a.", correct: false },
                { txt: "La Qu√≠mica estudia el 'hardware' (composici√≥n y estructura) y la F√≠sica las 'reglas de operaci√≥n' (energ√≠a y fuerzas).", correct: true },
                { txt: "No hay diferencia, estudian lo mismo.", correct: false }
            ],
            feedback: "¬°Exacto! La Qu√≠mica analiza el componente material, mientras la F√≠sica analiza las interacciones."
        },
        {
            q: "Observando la secci√≥n de conductores y aislantes: ¬øPor qu√© los materiales aislantes (como el pl√°stico) NO conducen la electricidad?",
            options: [
                { txt: "Porque sus electrones tienen 'valencia libre' y se mueven por todos lados.", correct: false },
                { txt: "Porque sus electrones est√°n 'deslocalizados'.", correct: false },
                { txt: "Porque sus electrones est√°n fuertemente retenidos en enlaces covalentes ('valencia fija') y no tienen libertad de movimiento.", correct: true }
            ],
            feedback: "Correcto. Sin electrones libres para moverse, no hay flujo de corriente."
        },
        {
            q: "En 'La Gran Divisi√≥n', ¬øcu√°l se indica como la diferencia fundamental que permite al Carbono ser la base de la qu√≠mica org√°nica?",
            options: [
                { txt: "Su capacidad de formar estructuras cristalinas r√≠gidas.", correct: false },
                { txt: "Su capacidad de 'Catenaci√≥n' (formar enlaces C-C estables y largas cadenas).", correct: true },
                { txt: "Que tiene puntos de fusi√≥n muy elevados.", correct: false }
            ],
            feedback: "¬°Muy bien! La catenaci√≥n es lo que permite la complejidad de la vida."
        },
        {
            q: "En el proceso de Polimerizaci√≥n, si la Glucosa es el 'Ladrillo' (Mon√≥mero), ¬øqu√© mol√©cula representa la 'Pared' (Pol√≠mero)?",
            options: [
                { txt: "El Agua ($H_2O$).", correct: false },
                { txt: "El Almid√≥n o Gluc√≥geno.", correct: true },
                { txt: "El Di√≥xido de Carbono ($CO_2$).", correct: false }
            ],
            feedback: "Afirmativo. Muchos mon√≥meros de glucosa forman el pol√≠mero (almid√≥n/gluc√≥geno)."
        },
        {
            q: "Cuando dos mon√≥meros se unen para formar un pol√≠mero (como en los gl√∫cidos), ¬øqu√© mol√©cula peque√±a se libera o 'sobra'?",
            options: [
                { txt: "Se libera ox√≠geno ($O_2$).", correct: false },
                { txt: "Se libera agua ($H_2O$).", correct: true },
                { txt: "No se libera nada.", correct: false }
            ],
            feedback: "Correcto. Es una reacci√≥n de condensaci√≥n o deshidrataci√≥n."
        },
        {
            q: "En la secci√≥n 'Los Elementos de la Vida (CHONPS)', ¬øcu√°l es la funci√≥n principal del Nitr√≥geno (N) seg√∫n el icono azul?",
            options: [
                { txt: "Almacenamiento de energ√≠a ATP.", correct: false },
                { txt: "Transporte de energ√≠a y pH.", correct: false },
                { txt: "Informaci√≥n Gen√©tica y Amino√°cidos.", correct: true }
            ],
            feedback: "¬°Excelente! El Nitr√≥geno es base del ADN y las Prote√≠nas."
        }
    ];

    let currentIdx = 0;
    let score = 0;

    // Inicializar sistema
    function initSystem() {
        loadQuestion(currentIdx);
    }

    function loadQuestion(index) {
        const data = quizData[index];
        const display = document.getElementById("question-display");
        const optionsDiv = document.getElementById("options-container");
        const nextBtn = document.getElementById("next-btn");
        const feedback = document.getElementById("feedback-display");

        // Resetear UI
        feedback.style.display = "none";
        nextBtn.style.display = "none";
        optionsDiv.innerHTML = "";
        
        // Actualizar barras
        document.getElementById("progress-text").innerText = `Pregunta ${index + 1} de ${quizData.length}`;
        
        // Renderizar Pregunta (con soporte LaTeX)
        display.innerHTML = data.q;
        renderMathInElement(display, {
            delimiters: [{left: "$", right: "$", display: false}]
        });

        // Crear botones de opci√≥n
        // Nota: No usamos random en las opciones A,B,C para mantener el orden l√≥gico de lectura
        const letters = ['A', 'B', 'C'];
        data.options.forEach((opt, i) => {
            const btn = document.createElement("button");
            btn.className = "btn-option";
            
            // Estructura interna del bot√≥n
            btn.innerHTML = `<span class="opt-letter">${letters[i]}</span> <span>${opt.txt}</span>`;
            
            btn.onclick = () => evaluate(btn, opt.correct, data.feedback);
            optionsDiv.appendChild(btn);
        });

        // Renderizar f√≥rmulas en las opciones
        renderMathInElement(optionsDiv, {
            delimiters: [{left: "$", right: "$", display: false}]
        });
    }

    function evaluate(selectedBtn, isCorrect, explanation) {
        const feedback = document.getElementById("feedback-display");
        const nextBtn = document.getElementById("next-btn");
        const allBtns = document.querySelectorAll(".btn-option");

        // Deshabilitar todos los botones para evitar doble click
        allBtns.forEach(b => b.disabled = true);

        feedback.style.display = "block";
        nextBtn.style.display = "block";

        if (isCorrect) {
            // Estilo visual de √©xito
            selectedBtn.style.borderColor = "var(--success)";
            selectedBtn.style.backgroundColor = "#d4edda"; // Verde muy claro
            selectedBtn.querySelector(".opt-letter").style.background = "#28a745";
            selectedBtn.querySelector(".opt-letter").style.color = "white";

            feedback.innerHTML = `‚úÖ <strong>CORRECTO</strong><br><span style="font-weight:400; font-size:0.9rem">${explanation}</span>`;
            feedback.className = "feedback-panel success";
            score++;
        } else {
            // Estilo visual de error
            selectedBtn.style.borderColor = "var(--error)";
            selectedBtn.style.backgroundColor = "#f8d7da"; // Rojo muy claro
            selectedBtn.querySelector(".opt-letter").style.background = "#dc3545";
            selectedBtn.querySelector(".opt-letter").style.color = "white";

            feedback.innerHTML = `‚ö†Ô∏è <strong>INCORRECTO</strong><br><span style="font-weight:400; font-size:0.9rem">Revisa los conceptos de la infograf√≠a e intenta de nuevo.</span>`;
            feedback.className = "feedback-panel error";
        }
        
        // Actualizar puntaje en tiempo real
        document.getElementById("score-text").innerText = `Aciertos: ${score}`;
    }

    function nextQuestion() {
        currentIdx++;
        if (currentIdx < quizData.length) {
            loadQuestion(currentIdx);
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        const panel = document.getElementById("quiz-panel");
        const percentage = Math.round((score / quizData.length) * 100);
        
        let finalTitle = "";
        let finalMsg = "";
        
        if (percentage === 100) {
            finalTitle = "üèÜ ¬°MAESTRO DE LA MATERIA!";
            finalMsg = "Has dominado los conceptos perfectamente. Est√°s listo para el examen.";
        } else if (percentage >= 60) {
            finalTitle = "üß™ BUEN TRABAJO";
            finalMsg = "Tienes los conceptos claros, pero repasa los peque√±os errores.";
        } else {
            finalTitle = "‚ö†Ô∏è NECESITAS REPASAR";
            finalMsg = "Vuelve a leer la infograf√≠a y los apuntes antes de avanzar.";
        }

        panel.innerHTML = `
            <div style="text-align:center; padding: 20px;">
                <h2 style="color:var(--primary-blue); margin-bottom:10px;">${finalTitle}</h2>
                <div style="font-size: 3rem; font-weight:bold; color:var(--text-main); margin: 20px 0;">${percentage}%</div>
                <p style="color:var(--text-light); font-size:1.1rem;">${score} de ${quizData.length} preguntas correctas</p>
                <p style="margin-top:15px;">${finalMsg}</p>
                
                <button class="btn-next" style="display:block; margin-top:30px;" onclick="location.reload()">REINTENTAR TEST ‚Ü∫</button>
            </div>
        `;
    }

    // Iniciar al cargar
    window.onload = initSystem;

</script>
</body>
</html>